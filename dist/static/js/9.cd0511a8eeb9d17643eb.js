webpackJsonp([9],{Ctvk:function(e,t){},Pe2i:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("Dd8w"),i=a.n(n),s=a("NYxO"),l={data:function(){return{dialogVisible:!1,department:"",questionType:"",targetPoint:"",selectData:[],caseData:[],videoData:[{options:{fileID:"5285890797318031214",appID:"1300414804"}}],currentTopic:{},player:[]}},components:{checkQues:function(e){return a.e(16).then(function(){var t=[a("9gA5")];e.apply(null,t)}.bind(this)).catch(a.oe)}},computed:i()({},Object(s.c)({courseNameList:"courseNameList",questionTypeList:"questionTypeList"})),methods:{checkQuestion:function(e){this.currentTopic=e,this.dialogVisible=!0},addQuestion:function(){this.$router.push({name:"aeQuestion",params:{title:"添加试题"}})},handleEdit:function(e,t){this.$router.push({name:"aeQuestion",params:{title:"编辑试题",row:i()({},t,{department:this.department,questionType:e})}})},searchQuestion:function(){var e=this;this.$ajax.post("/hmu/tea/getQuestionByDepartment",{department:this.department,questionType:""!==this.questionType?this.questionType:null}).then(function(t){t.result||(e.selectData=t.data.select,e.caseData=t.data.caseQusetion,e.videoData=t.data.videoQueston)}).catch(function(t){e.$message({type:"error",message:t})})},handleDelete:function(e,t){var a=this;console.log(e),this.$confirm("此操作将永久删除该试题, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$ajax.delete("/hmu/tea/deleteQuestion/"+t+"/"+e.questionId).then(function(e){e.result?a.$message({type:"error",message:"删除试题失败！"}):(a.$message({type:"success",message:"删除试题成功！"}),a.searchQuestion())}).catch(function(e){a.$message({type:"error",message:e})})}).catch(function(){a.$message({type:"info",message:"已取消删除"})})}},watch:{videoData:function(){var e=this;this.player.length&&(console.log("aaaa"),this.player.forEach(function(e){console.log("sss"),e.dispose()}),this.player=[]),this.$nextTick(function(){e.videoData.length&&e.videoData.forEach(function(t,a){e.player.push(TCPlayer("player-container-id"+a,{appID:"1300414804",fileID:t.question}))})})}},mounted:function(){this.department="呼吸内",this.searchQuestion()}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"questions-maintenance"},[a("el-row",{staticClass:"questions-option"},[a("el-col",{attrs:{span:5}},[a("el-select",{attrs:{placeholder:"考试部门"},model:{value:e.department,callback:function(t){e.department=t},expression:"department"}},e._l(e.courseNameList,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-select",{attrs:{placeholder:"题型",clearable:""},model:{value:e.questionType,callback:function(t){e.questionType=t},expression:"questionType"}},e._l(e.questionTypeList,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.searchQuestion}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.addQuestion}},[e._v("添加试题")])],1)],1),e._v(" "),e.selectData.length?a("el-row",{staticClass:"questions-table select"},[a("h1",[e._v("选择题")]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.selectData,"header-cell-style":{background:"rgb(235,244,248)"},"row-style":{background:"rgb(240,248,250)"},size:"small","max-height":"500px"}},[a("el-table-column",{attrs:{label:"试题内容",prop:"question"}}),e._v(" "),a("el-table-column",{attrs:{label:"正确答案",prop:"rightAnswer",width:"100",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"260"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.checkQuestion(t.row)}}},[e._v("查看")]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleEdit("select",t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.handleDelete(t.row,"select")}}},[e._v("删除")])]}}],null,!1,1622616485)})],1)],1):e._e(),e._v(" "),e.caseData.length?a("el-row",{staticClass:"questions-table case"},[a("h1",[e._v("案例题")]),e._v(" "),e._l(e.caseData,function(t,n){return a("div",{key:n,staticClass:"case-title"},[a("span",[e._v("  题目"+e._s(n+1)+"： "+e._s(t.question))]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.questions,"header-cell-style":{background:"rgb(235,244,248)"},"row-style":{background:"rgb(240,248,250)"},size:"small"}},[a("el-table-column",{attrs:{type:"index",width:"50",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"question",label:"题目"}}),e._v(" "),a("el-table-column",{attrs:{prop:"rightAnswer",label:"正确答案",width:"180",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.checkQuestion(t.row)}}},[e._v("查看")])]}}],null,!0)})],1)],1)})],2):e._e(),e._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:e.videoData.length,expression:"videoData.length"}],staticClass:"questions-table video"},[a("h1",[e._v("视频题")]),e._v(" "),e._l(e.videoData,function(t,n){return a("div",{key:n,staticClass:"video-title"},[a("video",{attrs:{id:"player-container-id"+n,width:"414",height:"270",preload:"auto",playsinline:"","webkit-playsinline":""}}),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.questions,"header-cell-style":{background:"rgb(235,244,248)"},"row-style":{background:"rgb(240,248,250)"},size:"small"}},[a("el-table-column",{attrs:{type:"index",width:"50",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"question",label:"题目"}}),e._v(" "),a("el-table-column",{attrs:{prop:"rightAnswer",label:"正确答案",width:"180",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.checkQuestion(t.row)}}},[e._v("查看")]),e._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.handleEdit("video",t.row)}}},[e._v("编辑")])]}}],null,!0)})],1)],1)})],2),e._v(" "),a("check-ques",{attrs:{dialogVisible:e.dialogVisible,currentTopic:e.currentTopic},on:{"update:dialogVisible":function(t){e.dialogVisible=t},"update:dialog-visible":function(t){e.dialogVisible=t}}})],1)},staticRenderFns:[]};var r=a("VU/8")(l,o,!1,function(e){a("Ctvk")},"data-v-42c47d0a",null);t.default=r.exports}});
//# sourceMappingURL=9.cd0511a8eeb9d17643eb.js.map